import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

const resources = {
  en: {
    translation: {
      common: {
        appName: 'E-Commerce',
        logout: 'Logout',
        back: 'Back',
        search: 'Search',
        loading: 'Loading...',
        error: 'Error',
        success: 'Success',
        warning: 'Warning',
        cancel: 'Cancel',
        delete: 'Delete',
        edit: 'Edit',
        save: 'Save',
        add: 'Add',
        view: 'View',
      },
      header: {
        home: 'Home',
        products: 'Products',
        dashboard: 'Dashboard',
        orders: 'Orders',
        myOrders: 'My Orders',
        profile: 'Profile',
        login: 'Login',
        register: 'Register',
      },
      auth: {
        login: 'Sign In',
        register: 'Create Account',
        email: 'Email',
        password: 'Password',
        name: 'Full Name',
        confirmPassword: 'Confirm Password',
        forgotPassword: 'Forgot Password?',
        noAccount: "Don't have an account?",
        haveAccount: 'Already have an account?',
        registerHere: 'Register here',
        loginHere: 'Sign in here',
        signingIn: 'Signing in...',
        creatingAccount: 'Creating account...',
        loginFailed: 'Login failed',
        registrationFailed: 'Registration failed',
        loginSuccess: 'Login successful!',
        registrationSuccess: 'Registration successful!',
      },
      products: {
        all: 'All Products',
        search: 'Search products...',
        categories: 'All Categories',
        electronics: 'Electronics',
        clothing: 'Clothing',
        books: 'Books',
        price: 'Price',
        stock: 'Stock',
        inStock: '{{count}} in stock',
        outOfStock: 'Out of stock',
        addToCart: 'Add to Cart',
        addProduct: 'Add Product',
        noProducts: 'No products found',
        quantity: 'Quantity',
        description: 'Description',
        viewDetails: 'View Details',
      },
      orders: {
        all: 'All Orders',
        my: 'My Orders',
        create: 'Create Order',
        id: 'Order ID',
        customer: 'Customer',
        email: 'Email',
        status: 'Status',
        amount: 'Amount',
        totalAmount: 'Total Amount',
        items: 'Items',
        created: 'Created',
        updated: 'Updated',
        pending: 'Pending',
        processing: 'Processing',
        completed: 'Completed',
        cancelled: 'Cancelled',
        cancelOrder: 'Cancel Order',
        confirmCancel: 'Are you sure you want to cancel this order?',
        noOrders: 'No orders yet',
        startShopping: 'Start Shopping',
        orderDetails: 'Order Details',
        orderItems: 'Order Items',
        orderSummary: 'Order Summary',
        cannotCancel: 'This order cannot be cancelled',
      },
      cart: {
        cart: 'Shopping Cart',
        empty: 'Your cart is empty',
        subtotal: 'Subtotal',
        total: 'Total',
        checkout: 'Checkout',
        continue: 'Continue Shopping',
        removeItem: 'Remove Item',
        updateQuantity: 'Update Quantity',
      },
      dashboard: {
        admin: 'Admin Dashboard',
        totalOrders: 'Total Orders',
        totalProducts: 'Total Products',
        totalRevenue: 'Total Revenue',
        recentOrders: 'Recent Orders',
        statistics: 'Statistics',
      },
      profile: {
        my: 'My Profile',
        update: 'Update Profile',
        updating: 'Updating...',
        updateSuccess: 'Profile updated successfully',
        updateFailed: 'Failed to update profile',
        changePassword: 'Change Password (Optional)',
        currentPassword: 'Current Password',
        newPassword: 'New Password',
        confirmNewPassword: 'Confirm New Password',
        passwordChangeSuccess: 'Password changed successfully',
        passwordChangeFailed: 'Failed to change password',
      },
      validation: {
        required: '{{field}} is required',
        invalidEmail: 'Invalid email',
        passwordMin: 'Password must be at least {{min}} characters',
        passwordMismatch: 'Passwords must match',
      },
      language: 'Language',
      english: 'English',
      uzbek: 'O\'zbekcha',
    },
  },
  uz: {
    translation: {
      common: {
        appName: 'E-Commerce',
        logout: 'Chiqish',
        back: 'Orqaga',
        search: 'Qidirish',
        loading: 'Yuklanyapti...',
        error: 'Xatolik',
        success: 'Muvaffaqiyat',
        warning: 'Ogohlantirish',
        cancel: 'Bekor qilish',
        delete: "O'chirish",
        edit: 'Tahrirlash',
        save: 'Saqlash',
        add: 'Qo\'shish',
        view: 'Ko\'rish',
      },
      header: {
        home: 'Bosh sahifa',
        products: 'Mahsulotlar',
        dashboard: 'Boshqaruv paneli',
        orders: 'Buyurtmalar',
        myOrders: 'Mening buyurtmalarim',
        profile: 'Profil',
        login: 'Kirish',
        register: 'Ro\'yxatdan o\'tish',
      },
      auth: {
        login: 'Kirish',
        register: 'Akkaunt yaratish',
        email: 'Email',
        password: 'Parol',
        name: 'To\'liq ism',
        confirmPassword: 'Parolni tasdiqlash',
        forgotPassword: 'Parolni unutdingizmi?',
        noAccount: 'Akkaunt yo\'qmi?',
        haveAccount: 'Allaqachon akkaunt bormi?',
        registerHere: 'Bu yerdan ro\'yxatdan o\'ting',
        loginHere: 'Bu yerdan kiring',
        signingIn: 'Kirilmoqda...',
        creatingAccount: 'Akkaunt yaratilmoqda...',
        loginFailed: 'Kirish muvaffaq bo\'lmadi',
        registrationFailed: 'Ro\'yxatdan o\'tish muvaffaq bo\'lmadi',
        loginSuccess: 'Muvaffaqiyatli kirdingiz!',
        registrationSuccess: 'Muvaffaqiyatli ro\'yxatdan o\'tdingiz!',
      },
      products: {
        all: 'Barcha mahsulotlar',
        search: 'Mahsulotlarni qidiring...',
        categories: 'Barcha kategoriyalar',
        electronics: 'Elektronika',
        clothing: 'Kiyim',
        books: 'Kitoblar',
        price: 'Narx',
        stock: 'Zaxira',
        inStock: 'Zaxirada {{count}} ta',
        outOfStock: 'Zaxirada yo\'q',
        addToCart: 'Savatchaga qo\'shish',
        addProduct: 'Mahsulot qo\'shish',
        noProducts: 'Mahsulot topilmadi',
        quantity: 'Miqdor',
        description: 'Tavsifi',
        viewDetails: 'Batafsil ko\'rish',
      },
      orders: {
        all: 'Barcha buyurtmalar',
        my: 'Mening buyurtmalarim',
        create: 'Buyurtma yaratish',
        id: 'Buyurtma ID',
        customer: 'Mijoz',
        email: 'Email',
        status: 'Status',
        amount: 'Summa',
        totalAmount: 'Jami summa',
        items: 'Mahsulotlar',
        created: 'Yaratilgan',
        updated: 'Yangilangan',
        pending: 'Kutilmoqda',
        processing: 'Qayta ishlanmoqda',
        completed: 'Tugallangan',
        cancelled: "Bekor qilindi",
        cancelOrder: "Buyurtmani bekor qilish",
        confirmCancel: "Buyurtmani bekor qilishni xohlaysizmi?",
        noOrders: "Hali buyurtma yo'q",
        startShopping: "Xaridni boshlash",
        orderDetails: "Buyurtmaning tafsilotlari",
        orderItems: "Buyurtma mahsulotlari",
        orderSummary: "Buyurtmaning xulosasi",
        cannotCancel: "Bu buyurtmani bekor qilish mumkin emas",
      },
      cart: {
        cart: 'Xarid savati',
        empty: 'Savatingiz bo\'sh',
        subtotal: 'Qismiy jami',
        total: 'Jami',
        checkout: 'Checkout',
        continue: 'Xaridni davom ettirish',
        removeItem: 'Mahsulotni olib tashlash',
        updateQuantity: 'Miqdorni yangilash',
      },
      dashboard: {
        admin: 'Boshqaruv paneli',
        totalOrders: 'Jami buyurtmalar',
        totalProducts: 'Jami mahsulotlar',
        totalRevenue: 'Jami daromad',
        recentOrders: 'Oxirgi buyurtmalar',
        statistics: 'Statistika',
      },
      profile: {
        my: 'Mening profilim',
        update: 'Profilni yangilash',
        updating: 'Yangilanyapti...',
        updateSuccess: 'Profil muvaffaqiyatli yangilandi',
        updateFailed: 'Profil yangilash muvaffaq bo\'lmadi',
        changePassword: 'Parolni o\'zgartirish (Ixtiyoriy)',
        currentPassword: 'Hozirgi parol',
        newPassword: 'Yangi parol',
        confirmNewPassword: 'Yangi parolni tasdiqlash',
        passwordChangeSuccess: 'Parol muvaffaqiyatli o\'zgartirildi',
        passwordChangeFailed: 'Parol o\'zgartirilmadi',
      },
      validation: {
        required: '{{field}} talab qilinadi',
        invalidEmail: 'Email noto\'g\'ri',
        passwordMin: 'Parol kamida {{min}} belgidan iborat bo\'lishi kerak',
        passwordMismatch: 'Parollar mos kelish kerak',
      },
      language: 'Til',
      english: 'English',
      uzbek: "O'zbekcha",
    },
  },
};

i18n.use(initReactI18next).init({
  resources,
  lng: 'en', // Always start with 'en' to prevent hydration mismatch
  fallbackLng: 'en',
  interpolation: {
    escapeValue: false,
  },
});

// Set language from localStorage after initialization (client-side only)
if (typeof window !== 'undefined') {
  const savedLanguage = localStorage.getItem('language');
  if (savedLanguage && savedLanguage !== i18n.language) {
    i18n.changeLanguage(savedLanguage);
  }
}

export default i18n;
