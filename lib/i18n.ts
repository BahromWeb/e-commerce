import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

const resources = {
  en: {
    translation: {
      common: {
        appName: 'E-Commerce',
        logout: 'Logout',
        back: 'Back',
        search: 'Search',
        loading: 'Loading...',
        error: 'Error',
        success: 'Success',
        warning: 'Warning',
        cancel: 'Cancel',
        delete: 'Delete',
        edit: 'Edit',
        save: 'Save',
        add: 'Add',
        view: 'View',
      },
      home: {
        welcome: 'Welcome to E-Commerce',
        subtitle: 'Optimal organization meets exquisite design. Manage your products and orders with ease.',
        browseProducts: 'Browse Products',
        signIn: 'Sign In',
      },
      header: {
        home: 'Home',
        products: 'Products',
        dashboard: 'Dashboard',
        orders: 'Orders',
        myOrders: 'My Orders',
        profile: 'Profile',
        login: 'Login',
        register: 'Register',
      },
      auth: {
        login: 'Sign In',
        register: 'Create Account',
        username: 'Username',
        email: 'Email',
        password: 'Password',
        name: 'Full Name',
        confirmPassword: 'Confirm Password',
        forgotPassword: 'Forgot Password?',
        noAccount: "Don't have an account?",
        haveAccount: 'Already have an account?',
        registerHere: 'Register here',
        loginHere: 'Sign in here',
        signingIn: 'Signing in...',
        creatingAccount: 'Creating account...',
        loginFailed: 'Login failed',
        registrationFailed: 'Registration failed',
        loginSuccess: 'Login successful!',
        registrationSuccess: 'Registration successful!',
      },
      products: {
        all: 'All Products',
        search: 'Search products...',
        categories: 'All Categories',
        electronics: 'Electronics',
        clothing: 'Clothing',
        books: 'Books',
        price: 'Price',
        stock: 'Stock',
        inStock: '{{count}} in stock',
        outOfStock: 'Out of stock',
        addToCart: 'Add to Cart',
        addProduct: 'Add Product',
        noProducts: 'No products found',
        quantity: 'Quantity',
        description: 'Description',
        viewDetails: 'View Details',
        productNotFound: 'Product not found',
        backToProducts: 'Back to Products',
        loadProductFailed: 'Failed to load product',
        loginToAdd: 'Please login first',
        addedToCart: 'Added to cart!',
        loading: 'Loading...',
        loadFailed: 'Failed to load products',
      },
      orders: {
        all: 'All Orders',
        my: 'My Orders',
        create: 'Create Order',
        id: 'Order ID',
        customer: 'Customer',
        email: 'Email',
        status: 'Status',
        amount: 'Amount',
        totalAmount: 'Total Amount',
        items: 'Items',
        created: 'Created',
        updated: 'Updated',
        pending: 'Pending',
        processing: 'Processing',
        completed: 'Completed',
        cancelled: 'Cancelled',
        cancelOrder: 'Cancel Order',
        confirmCancel: 'Are you sure you want to cancel this order?',
        noOrders: 'No orders yet',
        startShopping: 'Start Shopping',
        orderDetails: 'Order Details',
        orderItems: 'Order Items',
        orderSummary: 'Order Summary',
        cannotCancel: 'This order cannot be cancelled',
        viewDetails: 'View Details',
        loadFailed: 'Failed to load orders',
        orderNotFound: 'Order not found',
        backToOrders: 'Back to Orders',
        customerName: 'Customer Name',
        customerEmail: 'Customer Email',
        orderDate: 'Order Date',
        loadOrderFailed: 'Failed to load order',
        cancelSuccess: 'Order cancelled successfully',
        cancelFailed: 'Failed to cancel order',
        quantity: 'Quantity',
        allOrders: 'All Orders',
        orderId: 'Order ID',
        actions: 'Actions',
        delivered: 'Delivered',
        statusUpdated: 'Order status updated',
        updateFailed: 'Failed to update order',
        loadOrdersFailed: 'Failed to load orders',
        loading: 'Loading...',
      },
      cart: {
        cart: 'Shopping Cart',
        empty: 'Your cart is empty',
        emptyMessage: 'Add some products to get started!',
        subtotal: 'Subtotal',
        total: 'Total',
        checkout: 'Place Order',
        continue: 'Continue Shopping',
        removeItem: 'Remove',
        remove: 'Remove',
        updateQuantity: 'Update Quantity',
        category: 'Category',
        items: 'Items',
        orderSummary: 'Order Summary',
        processing: 'Processing...',
        placeOrder: 'Place Order',
        itemAdded: 'Added {{quantity}} item(s) to cart',
        itemRemoved: 'Item removed from cart',
        loginFirst: 'Please login first',
        orderPlaced: 'Order placed successfully!',
        orderFailed: 'Failed to create order',
        stockLimit: 'Only {{stock}} items available',
      },
      dashboard: {
        admin: 'Admin Dashboard',
        totalOrders: 'Total Orders',
        totalProducts: 'Total Products',
        totalRevenue: 'Total Revenue',
        recentOrders: 'Recent Orders',
        statistics: 'Statistics',
        orderId: 'Order ID',
        customer: 'Customer',
        amount: 'Amount',
        status: 'Status',
        loading: 'Loading...',
        loadFailed: 'Failed to load dashboard data',
      },
      profile: {
        my: 'My Profile',
        update: 'Update Profile',
        updating: 'Updating...',
        updateSuccess: 'Profile updated successfully',
        updateFailed: 'Failed to update profile',
        changePassword: 'Change Password (Optional)',
        currentPassword: 'Current Password',
        newPassword: 'New Password',
        confirmNewPassword: 'Confirm New Password',
        passwordChangeSuccess: 'Password changed successfully',
        passwordChangeFailed: 'Failed to change password',
      },
      validation: {
        required: '{{field}} is required',
        invalidEmail: 'Invalid email',
        passwordMin: 'Password must be at least {{min}} characters',
        passwordMismatch: 'Passwords must match',
      },
      language: 'Language',
      english: 'English',
      uzbek: 'O\'zbekcha',
    },
  },
  uz: {
    translation: {
      common: {
        appName: 'E-Commerce',
        logout: 'Chiqish',
        back: 'Orqaga',
        search: 'Qidirish',
        loading: 'Yuklanmoqda...',
        error: 'Xato',
        success: 'Muvaffaqiyat',
        warning: 'Ogohlantirish',
        cancel: 'Bekor qilish',
        delete: "O'chirish",
        edit: 'Tahrirlash',
        save: 'Saqlash',
        add: "Qo'shish",
        view: "Ko'rish",
      },
      home: {
        welcome: 'E-Commerce platformasiga xush kelibsiz',
        subtitle: 'Optimal tashkilot va ajoyib dizayn. Mahsulotlar va buyurtmalarni oson boshqaring.',
        browseProducts: 'Mahsulotlarni ko\'rish',
        signIn: 'Kirish',
      },
      header: {
        home: 'Bosh sahifa',
        products: 'Mahsulotlar',
        dashboard: 'Boshqaruv paneli',
        orders: 'Buyurtmalar',
        myOrders: 'Mening buyurtmalarim',
        profile: 'Profil',
        login: 'Kirish',
        register: 'Ro\'yxatdan o\'tish',
      },
      auth: {
        login: 'Kirish',
        register: 'Akkaunt yaratish',
        username: 'Foydalanuvchi nomi',
        email: 'Email',
        password: 'Parol',
        name: 'To\'liq ism',
        confirmPassword: 'Parolni tasdiqlash',
        forgotPassword: 'Parolni unutdingizmi?',
        noAccount: 'Akkaunt yo\'qmi?',
        haveAccount: 'Allaqachon akkaunt bormi?',
        registerHere: 'Bu yerdan ro\'yxatdan o\'ting',
        loginHere: 'Bu yerdan kiring',
        signingIn: 'Kirilmoqda...',
        creatingAccount: 'Akkaunt yaratilmoqda...',
        loginFailed: 'Kirish muvaffaq bo\'lmadi',
        registrationFailed: 'Ro\'yxatdan o\'tish muvaffaq bo\'lmadi',
        loginSuccess: 'Muvaffaqiyatli kirdingiz!',
        registrationSuccess: 'Muvaffaqiyatli ro\'yxatdan o\'tdingiz!',
      },
      products: {
        all: 'Barcha mahsulotlar',
        search: 'Mahsulotlarni qidiring...',
        categories: 'Barcha kategoriyalar',
        electronics: 'Elektronika',
        clothing: 'Kiyim',
        books: 'Kitoblar',
        price: 'Narx',
        stock: 'Zaxira',
        inStock: 'Zaxirada {{count}} ta',
        outOfStock: 'Zaxirada yo\'q',
        addToCart: 'Savatchaga qo\'shish',
        addProduct: 'Mahsulot qo\'shish',
        noProducts: 'Mahsulot topilmadi',
        quantity: 'Miqdor',
        description: 'Tavsifi',
        viewDetails: 'Batafsil ko\'rish',
        productNotFound: 'Mahsulot topilmadi',
        backToProducts: 'Mahsulotlarga qaytish',
        loadProductFailed: 'Mahsulotni yuklash muvaffaq bo\'lmadi',
        loginToAdd: 'Iltimos, avval tizimga kiring',
        addedToCart: 'Savatchaga qo\'shildi!',
        loading: 'Yuklanmoqda...',
        loadFailed: 'Mahsulotlarni yuklash muvaffaq bo\'lmadi',
      },
      orders: {
        all: 'Barcha buyurtmalar',
        my: 'Mening buyurtmalarim',
        create: 'Buyurtma yaratish',
        id: 'Buyurtma ID',
        customer: 'Mijoz',
        email: 'Email',
        status: 'Status',
        amount: 'Summa',
        totalAmount: 'Jami summa',
        items: 'Mahsulotlar',
        created: 'Yaratilgan',
        updated: 'Yangilangan',
        pending: 'Kutilmoqda',
        processing: 'Qayta ishlanmoqda',
        completed: 'Tugallangan',
        cancelled: "Bekor qilindi",
        cancelOrder: "Buyurtmani bekor qilish",
        confirmCancel: "Buyurtmani bekor qilishni xohlaysizmi?",
        noOrders: "Hali buyurtma yo'q",
        startShopping: "Xaridni boshlash",
        orderDetails: "Buyurtmaning tafsilotlari",
        orderItems: "Buyurtma mahsulotlari",
        orderSummary: "Buyurtmaning xulosasi",
        cannotCancel: "Bu buyurtmani bekor qilish mumkin emas",
        viewDetails: "Batafsil ko'rish",
        loadFailed: "Buyurtmalarni yuklash muvaffaq bo'lmadi",
        orderNotFound: "Buyurtma topilmadi",
        backToOrders: "Buyurtmalarga qaytish",
        customerName: "Mijoz ismi",
        customerEmail: "Mijoz emaili",
        orderDate: "Buyurtma sanasi",
        loadOrderFailed: "Buyurtmani yuklash muvaffaq bo'lmadi",
        cancelSuccess: "Buyurtma muvaffaqiyatli bekor qilindi",
        cancelFailed: "Buyurtmani bekor qilish muvaffaq bo'lmadi",
        quantity: "Miqdor",
        allOrders: "Barcha buyurtmalar",
        orderId: "Buyurtma raqami",
        actions: "Harakatlar",
        delivered: "Yetkazilgan",
        statusUpdated: "Buyurtma holati yangilandi",
        updateFailed: "Buyurtmani yangilash muvaffaq bo'lmadi",
        loadOrdersFailed: "Buyurtmalarni yuklash muvaffaq bo'lmadi",
        loading: "Yuklanmoqda...",
      },
      cart: {
        cart: 'Xarid savati',
        empty: 'Savatingiz bo\'sh',
        emptyMessage: 'Boshlash uchun mahsulot qo\'shing!',
        subtotal: 'Qismiy jami',
        total: 'Jami',
        checkout: 'Buyurtma berish',
        continue: 'Xaridni davom ettirish',
        removeItem: 'O\'chirish',
        remove: 'O\'chirish',
        updateQuantity: 'Miqdorni yangilash',
        category: 'Kategoriya',
        items: 'Mahsulotlar',
        orderSummary: 'Buyurtma xulosasi',
        processing: 'Qayta ishlanmoqda...',
        placeOrder: 'Buyurtma berish',
        itemAdded: '{{quantity}} ta mahsulot savatchaga qo\'shildi',
        itemRemoved: 'Mahsulot savatchadan o\'chirildi',
        loginFirst: 'Iltimos avval kiring',
        orderPlaced: 'Buyurtma muvaffaqiyatli amalga oshirildi!',
        orderFailed: 'Buyurtma yaratish muvaffaq bo\'lmadi',
        stockLimit: 'Faqat {{stock}} ta mahsulot mavjud',
      },
      dashboard: {
        admin: 'Boshqaruv paneli',
        totalOrders: 'Jami buyurtmalar',
        totalProducts: 'Jami mahsulotlar',
        totalRevenue: 'Jami daromad',
        recentOrders: 'Oxirgi buyurtmalar',
        statistics: 'Statistika',
        orderId: 'Buyurtma ID',
        customer: 'Mijoz',
        amount: 'Summa',
        status: 'Holat',
        loading: 'Yuklanmoqda...',
        loadFailed: 'Boshqaruv paneli ma\'lumotlarini yuklash muvaffaq bo\'lmadi',
      },
      profile: {
        my: 'Mening profilim',
        update: 'Profilni yangilash',
        updating: 'Yangilanyapti...',
        updateSuccess: 'Profil muvaffaqiyatli yangilandi',
        updateFailed: 'Profil yangilash muvaffaq bo\'lmadi',
        changePassword: 'Parolni o\'zgartirish (Ixtiyoriy)',
        currentPassword: 'Hozirgi parol',
        newPassword: 'Yangi parol',
        confirmNewPassword: 'Yangi parolni tasdiqlash',
        passwordChangeSuccess: 'Parol muvaffaqiyatli o\'zgartirildi',
        passwordChangeFailed: 'Parol o\'zgartirilmadi',
      },
      validation: {
        required: '{{field}} talab qilinadi',
        invalidEmail: 'Email noto\'g\'ri',
        passwordMin: 'Parol kamida {{min}} belgidan iborat bo\'lishi kerak',
        passwordMismatch: 'Parollar mos kelish kerak',
      },
      language: 'Til',
      english: 'English',
      uzbek: "O'zbekcha",
    },
  },
};

i18n.use(initReactI18next).init({
  resources,
  lng: 'en', // Always start with 'en' to prevent hydration mismatch
  fallbackLng: 'en',
  interpolation: {
    escapeValue: false,
  },
});

// Set language from localStorage after initialization (client-side only)
if (typeof window !== 'undefined') {
  const savedLanguage = localStorage.getItem('language');
  if (savedLanguage && savedLanguage !== i18n.language) {
    i18n.changeLanguage(savedLanguage);
  }
}

export default i18n;
